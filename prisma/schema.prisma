// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model PartyAlliance {
  id            Int     @id @db.Integer
  name          String
  acronym       String
  photoFileName String
  Parties       Party[]
}

model Party {
  id            Int            @id @db.Integer
  name          String
  acronym       String
  photoFileName String
  Coligation    PartyAlliance? @relation(fields: [coligationId], references: [id])
  coligationId  Int?
  Candidates    Candidate[]
}

model Candidate {
  id                Int               @id @db.Integer
  shortName         String
  fullName          String
  birthdate         DateTime          @db.Date
  photoFileName     String?
  bio               String?
  position          Int?
  isSub             Boolean?
  ElectoralCircle   ElectoralDistrict @relation(fields: [electoralCircleId], references: [id])
  electoralCircleId Int
  Party             Party             @relation(fields: [partyId], references: [id])
  partyId           Int
}

model ElectoralDistrict {
  id              Int         @id @db.Integer
  name            String
  electedDeputies Int
  Candidate       Candidate[]
}
